CREATE TABLE people (
    id INT AUTO_INCREMENT PRIMARY KEY,
    fname VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    lname VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    email VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    password VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    league_position VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    club_position VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    club INT NULL,
    team INT NULL,
    image TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    phone VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    role VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    FOREIGN KEY (club) REFERENCES clubs(id),
    FOREIGN KEY (team) REFERENCES teams(id)
);

CREATE TABLE player_transfers (
    id INT AUTO_INCREMENT PRIMARY KEY,
    registration_number VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    fname VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    lname VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    club INT NOT NULL,
    new_club INT NOT NULL,
    signature LONGTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    amount DECIMAL(10,2) DEFAULT 0.00,
    currency VARCHAR(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT 'GBP',
    payment_id VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    payment_method VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    from_club_appr VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT '0',
    to_club_appr VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT '0',
    status ENUM('pending','rejected','approved') CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT 'pending',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE player_applications (
    id INT AUTO_INCREMENT PRIMARY KEY,
    fname VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    lname VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    date_of_birth DATETIME NOT NULL,
    country_of_birth VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    email VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    phone_number VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    address VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    address2 VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    city VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    county VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    post_code VARCHAR(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    country VARCHAR(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    club INT NOT NULL,
    registered TINYINT(1) DEFAULT 0,
    previous_uk_club VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT 'Not Applicable',
    previous_uk_club_season VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT 'Not Applicable',
    player_classification VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
    id_photo LONGTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    signature LONGTEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    amount DECIMAL(10,2) DEFAULT 0.00,
    currency VARCHAR(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT 'GBP',
    payment_id VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    payment_method VARCHAR(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    club_appr VARCHAR(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    league_appr VARCHAR(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    terms TINYINT(1) NOT NULL,
    privacy TINYINT(1) NULL,
    status ENUM('pending','accepted','rejected') CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT 'pending'
);

CREATE TABLE clubs (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    primary_club_contact VARCHAR(100) NOT NULL,
    primary_position_in_the_club VARCHAR(100) NOT NULL,
    primary_phone_number VARCHAR(20) NOT NULL,
    primary_email VARCHAR(255) NOT NULL,
    secondary_club_contact VARCHAR(100) NULL,
    secondary_position_in_club VARCHAR(100) NULL,
    secondary_phone_number VARCHAR(20) NULL,
    secondary_email VARCHAR(255) NULL,
    ground_1 VARCHAR(255) NOT NULL,
    ground_2 VARCHAR(255) DEFAULT 'NA',
    ground_1_dressing_facilities TINYINT(1) DEFAULT 0,
    ground_2_dressing_facilities TINYINT(1) DEFAULT 0,
    ground_1_shower_toilet_facilities TINYINT(1) DEFAULT 0,
    ground_2_shower_toilet_facilities TINYINT(1) DEFAULT 0,
    ground_1_hot_tea_facilities TINYINT(1) DEFAULT 0,
    ground_2_hot_tea_facilities TINYINT(1) DEFAULT 0,
    if_no_tea_facilities_reason TEXT NULL,
    ground_1_own_scoreboard TINYINT(1) DEFAULT 0,
    ground_2_own_scoreboard TINYINT(1) DEFAULT 0,
    ground_1_boundary_markers TINYINT(1) DEFAULT 0,
    ground_2_boundary_markers TINYINT(1) DEFAULT 0,
    ground_1_current_session TINYINT(1) DEFAULT 0,
    ground_2_current_session TINYINT(1) DEFAULT 0,
    if_no_ground_for_current_session TEXT NULL,
    current_ground_type VARCHAR(255) NULL,
    ground_side_run_on_sunday VARCHAR(255) NULL,
    is_public_liability_insurance TINYINT(1) DEFAULT 0,
    is_bank_account TINYINT(1) DEFAULT 0,
    is_member_club_cricket_conf TINYINT(1) DEFAULT 0,
    is_member_mcb TINYINT(1) DEFAULT 0,
    established YEAR NOT NULL,
    club_is_any_league TINYINT(1) DEFAULT 0,
    if_club_in_league_spec TEXT NULL,
    is_qualified_umpire TINYINT(1) DEFAULT 0,
    qualified_umpire_contact VARCHAR(255) NULL,
    joining_mpcl_league VARCHAR(255) NULL,
    comments TEXT NULL,
    recommended_by_1 VARCHAR(255) NULL,
    recommended_by_2 VARCHAR(255) NULL,
    signature LONGTEXT NULL,
    terms TINYINT(1) DEFAULT 0,
    status ENUM('pending', 'accepted', 'rejected') DEFAULT 'pending',
    registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    logo LONGTEXT NULL,
    club_type ENUM('professional', 'amateur') DEFAULT 'amateur',
    website VARCHAR(255) NULL,
    social_links JSON NULL,
    home_ground_id INT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    chairman INT NULL,
    privacy TINYINT(1) NULL,
    FOREIGN KEY (chairman) REFERENCES people(id)
);

CREATE TABLE club_applications (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    primary_club_contact VARCHAR(100) NOT NULL,
    primary_position_in_the_club VARCHAR(100) NOT NULL,
    primary_phone_number VARCHAR(20) NOT NULL,
    primary_email VARCHAR(255) NOT NULL,
    secondary_club_contact VARCHAR(100) NULL,
    secondary_position_in_club VARCHAR(100) NULL,
    secondary_phone_number VARCHAR(20) NULL,
    secondary_email VARCHAR(255) NULL,
    ground_1 VARCHAR(255) NOT NULL,
    ground_2 VARCHAR(255) DEFAULT 'NA',
    ground_1_dressing_facilities TINYINT(1) DEFAULT 0,
    ground_2_dressing_facilities TINYINT(1) DEFAULT 0,
    ground_1_shower_toilet_facilities TINYINT(1) DEFAULT 0,
    ground_2_shower_toilet_facilities TINYINT(1) DEFAULT 0,
    ground_1_hot_tea_facilities TINYINT(1) DEFAULT 0,
    ground_2_hot_tea_facilities TINYINT(1) DEFAULT 0,
    ground_1_own_scoreboard TINYINT(1) DEFAULT 0,
    ground_2_own_scoreboard TINYINT(1) DEFAULT 0,
    ground_1_boundary_markers TINYINT(1) DEFAULT 0,
    ground_2_boundary_markers TINYINT(1) DEFAULT 0,
    ground_1_current_session TINYINT(1) DEFAULT 0,
    ground_2_current_session TINYINT(1) DEFAULT 0,
    is_public_liability_insurance TINYINT(1) DEFAULT 0,
    is_bank_account TINYINT(1) DEFAULT 0,
    is_member_mcb TINYINT(1) DEFAULT 0,
    established VARCHAR(10) NULL,
    recommended_by_1 VARCHAR(255) NULL,
    recommended_by_2 VARCHAR(255) NULL
);
